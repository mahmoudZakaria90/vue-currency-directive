var e=(e,t)=>e[t].toLocaleString(e.locale||navigator.language,{style:"currency",currency:e.currency||"USD"}),t={bind(e,t,r){const a="input"!==e.tagName.toLowerCase()?e.querySelector(".v-currency-input")||e.querySelector('input[type="text"]')||e.querySelector("input"):e,u=new RegExp(/[a-zA-z,\W]/,"g"),[l,n]=t.expression.split("."),c=r.context.$data[l],o=e=>{u.test(e.value)&&(e.value=e.value.replace(u,""));const t=Number(e.value);let r,a;if(e.value&&0!==t){if(e.arg)if(e.arg.length<=3)r=e.arg;else{const t=e.arg.split("[");r=t[0],a=t[1],a=a.replace("]","")}else r=c.currency,a=c.locale;return t.toLocaleString(a||navigator.language,{style:"currency",currency:r||"USD"})}return""};a.value=o(t),c.formatted=o(t),a.addEventListener("blur",e=>{e.target.value=o(e.target),c.formatted=e.target.value}),a.addEventListener("focus",e=>e.target.value=0===Number(c[n])?"":c[n]),a.addEventListener("input",e=>{u.test(e.target.value)&&(e.target.value=e.target.value.replace(u,""));const t=Number(e.target.value),r=0===t?"":t;c[n]=r})},update(t,r,a){const u="input"!==t.tagName.toLowerCase()?t.querySelector(".v-currency-input")||t.querySelector('input[type="text"]')||t.querySelector("input"):t,[l,n]=r.expression.split("."),c=a.context.$data[l];(c.currency||c.locale)&&(u.value===c.formatted&&(u.value=e(c,n)),c.formatted=e(c,n))}};export default t;
