var e=(e,t)=>e[t].toLocaleString(e.locale||navigator.language,{style:"currency",currency:e.currency||"USD"}),t={bind(e,t,r){const a="input"!==e.tagName.toLowerCase()?e.querySelector(".v-currency-input")||e.querySelector('input[type="text"]')||e.querySelector("input"):e,u=new RegExp(/[^0-9.]/,"g"),[n,c]=t.expression.split("."),l=r.context.$data[n],i=e=>{u.test(e.value)&&(e.value=e.value.replace(u,""));const r=Number(e.value);let a,n,c,i;if(e.value&&0!==r){if(t.arg)if(t.arg.includes("|")){const e=t.arg.split("|"),r=JSON.parse(e[1].replace("(",'"').replace(")",'"'));a=e[0],[c,i,n]=r}else a=t.arg;else a=l.currency,n=l.locale,c=l.minimumFractionDigits,i=l.maximumFractionDigits;return r.toLocaleString(n||"en-US",{style:"currency",currency:a||"USD",minimumFractionDigits:c,maximumFractionDigits:i})}return""};a.value=i(t),l.formatted=i(t),a.addEventListener("blur",e=>{e.target.value=i(e.target),l.formatted=e.target.value}),a.addEventListener("focus",e=>e.target.value=0===Number(l[c])?"":l[c]),a.addEventListener("input",e=>{u.test(e.target.value)&&(e.target.value=e.target.value.replace(u,""));const t=Number(e.target.value),r=0===t?"":t;l[c]=r})},update(t,r,a){const u="input"!==t.tagName.toLowerCase()?t.querySelector(".v-currency-input")||t.querySelector('input[type="text"]')||t.querySelector("input"):t,[n,c]=r.expression.split("."),l=a.context.$data[n];(l.currency||l.locale)&&(u.value===l.formatted&&(u.value=e(l,c)),l.formatted=e(l,c))}};export default t;
