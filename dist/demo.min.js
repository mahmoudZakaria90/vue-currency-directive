!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).vueCurrencyDirective=t()}(this,(function(){"use strict";var e=(e,t)=>e[t].toLocaleString(e.locale||navigator.language,{style:"currency",currency:e.currency||"USD"});return{bind(e,t,r){const a="input"!==e.tagName.toLowerCase()?e.querySelector(".v-currency-input")||e.querySelector('input[type="text"]')||e.querySelector("input"):e,n=new RegExp(/[^0-9.]/,"g"),[u,i]=t.expression.split("."),c=r.context.$data[u],l=e=>{n.test(e.value)&&(e.value=e.value.replace(n,""));const r=Number(e.value);let a,u,i,l;if(e.value&&0!==r){if(t.arg)if(t.arg.includes("|")){const e=t.arg.split("|"),r=JSON.parse(e[1].replace("(",'"').replace(")",'"'));a=e[0],[i,l,u]=r}else a=t.arg;else a=c.currency,u=c.locale,i=c.minimumFractionDigits,l=c.maximumFractionDigits;return r.toLocaleString(u||"en-US",{style:"currency",currency:a||"USD",minimumFractionDigits:i,maximumFractionDigits:l})}return""};a.value=l(t),c.formatted=l(t),a.addEventListener("blur",e=>{e.target.value=l(e.target),c.formatted=e.target.value}),a.addEventListener("focus",e=>e.target.value=0===Number(c[i])?"":c[i]),a.addEventListener("input",e=>{n.test(e.target.value)&&(e.target.value=e.target.value.replace(n,""));const t=Number(e.target.value),r=0===t?"":t;c[i]=r})},update(t,r,a){const n="input"!==t.tagName.toLowerCase()?t.querySelector(".v-currency-input")||t.querySelector('input[type="text"]')||t.querySelector("input"):t,[u,i]=r.expression.split("."),c=a.context.$data[u];(c.currency||c.locale)&&(n.value===c.formatted&&(n.value=e(c,i)),c.formatted=e(c,i))}}}));
