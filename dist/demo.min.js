!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).vueCurrencyDirective=t()}(this,(function(){"use strict";return{bind(e,t,r){const a="input"!==e.tagName.toLowerCase()?e.querySelector(".v-currency-input")||e.querySelector('input[type="text"]')||e.querySelector("input"):e,u=new RegExp(/[a-zA-z,\W]/,"g"),[n,l]=t.expression.split("."),o=r.context.$data[n],i=e=>{u.test(e.value)&&(e.value=e.value.replace(u,""));const r=Number(e.value);if(e.value&&0!==r){const e=t.arg&&t.arg.split("[")[0];let a=t.arg&&t.arg.split("[")[1];return a=a&&a.replace("]",""),r.toLocaleString(a||navigator.language,{style:"currency",currency:e||"USD"})}return""};a.value=i(t),o.formatted=i(t),a.addEventListener("blur",e=>{e.target.value=i(e.target),o.formatted=e.target.value}),a.addEventListener("focus",e=>e.target.value=0===Number(o[l])?"":o[l]),a.addEventListener("input",e=>{u.test(e.target.value)&&(e.target.value=e.target.value.replace(u,""));const t=Number(e.target.value),r=0===t?"":t;o[l]=r})}}}));
